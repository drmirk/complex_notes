<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='ckeditor/ckeditor.js') }}"></script>
</head>

<body>
    <div class="container-fluid">
        <div>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        {{ message }}
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div class="row no-gutters">
            <div class="row col-xl-5 no-gutters">
                <div class="col-xl-1 no-gutters single_preview">
                    TEST
                </div>
                <div class="col-xl-3 single_preview">
                    <!--<div class=single_preview>
                        <form method="POST" id="notebook">
                            {{ notebook_form.notebook_new_title }}<br>
                            {{ notebook_form.notebook_new_btn(class="btn btn-primary btn-sm") }}<br>
                            {{ notebook_form.notebook_current_title }}<br>
                            {{ notebook_form.notebook_save_btn(class="btn btn-success btn-sm") }}
                            {{ notebook_form.notebook_delete_btn(class="btn btn-danger btn-sm") }}
                        </form>
                    </div>-->
                    {% for notebook in notebooks %}
                    <div>
                        <a href="{{ url_for('notebook_view', notebook_id=notebook.id) }}">
                            <p>{{ notebook.get_title() }}</p>
                        </a>
                    </div>
                    {% endfor %}
                </div>
                <div class="col-xl-3 single_preview">
                    <!--<div class=single_preview>
                        <form method="POST" id="section">
                            {{ section_form.section_new_title }}<br>
                            {{ section_form.section_new_btn(class="btn btn-primary btn-sm") }}<br>
                            {{ section_form.section_current_title }}<br>
                            {{ section_form.section_save_btn(class="btn btn-success btn-sm") }}
                            {{ section_form.section_delete_btn(class="btn btn-danger btn-sm") }}
                        </form>
                    </div>-->
                    {% for section in all_sections %}
                    <div>
                        <a href="{{ url_for('section_view', section_id=section.id)  }}">
                            <p>{{ section.get_title() }}</p>
                        </a>
                    </div>
                    {% endfor %}
                </div>
                <div class="col-xl-5 single_preview">
                    {% for note in all_notes %}
                    <div>
                        <a href="{{ url_for('note_view', note_id=note.id) }}">
                            <p>{{ note.get_title() }}</p>
                            <p>{{ note.get_preview() | safe }}</p>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-xl-7">
                <form method="POST" id="main_form">
                    {{ note_form.csrf_token }}
                    <!--{{ note_form.note_new_btn(class="btn btn-primary btn-sm") }}
                    {{ note_form.note_save_btn(class="btn btn-success btn-sm") }}
                    {{ note_form.note_delete_btn(class="btn btn-danger btn-sm") }}<br>-->
                    <h1>{{ note_form.note_title(class="title") }}</h1>
                    {{ note_form.note_creation_date }}<br>
                    {{ note_form.note_modification_date }}<br>
                    {{ note_form.note_body }}
                </form>
            </div>
        </div>
    </div>
    <script>
        CKEDITOR.replace('note_body', {
            extraPlugins: 'autogrow',
            autoGrow_onStartup: true,
            removePlugins: 'resize',
            filebrowserBrowseUrl: "{{ url_for('upload_file') }}",
            filebrowserUploadUrl: "{{ url_for('upload_file') }}",
            filebrowserWindowWidth: 100,
            filebrowserWindowHeight: 200,
            tabSpaces: 4,
            toolbar: [
                { name: 'tools', items: ['Maximize'] },
                { name: 'clipboard', items: ['Undo', 'Redo'] },
                { name: 'clipboard', items: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord'] },
                { name: 'editing', items: ['SelectAll', '-', 'Find', 'Replace', '-', 'Scayt', 'AutoCorrect'] },
                { name: 'links', items: ['Link', 'Unlink', 'Anchor'] },
                { name: 'bidi', items: ['BidiLtr', 'BidiRtl'] },
                { name: 'insert', items: ['CodeSnippet', 'Image', 'Table', 'Smiley', 'SpecialChar'] },
                { name: 'insert', items: ['HorizontalRule', 'PageBreak'] },
                { name: 'insert', items: ['Blockquote', 'CreateDiv'] },
                { name: 'colors', items: ['TextColor', 'BGColor'] },
                { name: 'basicstyles', items: ['Bold', 'Italic', 'Underline'] },
                { name: 'basicstyles', items: ['Strike', 'Subscript', 'Superscript'] },
                { name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] },
                { name: 'paragraph', items: ['NumberedList', 'BulletedList'] },
                { name: 'paragraph', items: ['Outdent', 'Indent'] },
                { name: 'paragraph', items: ['JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-'] },
                { name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },
            ],
        });
    </script>
    <script src="{{ url_for('static', filename='js/jquery-3.1.1.slim.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tether.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }} "></script>
</body>

</html>
